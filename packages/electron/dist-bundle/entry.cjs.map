{"version":3,"file":"entry.cjs","mappings":"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","sources":["webpack://@app/electron/external node-commonjs \"node:fs\"","webpack://@app/electron/external node-commonjs \"node:url\"","webpack://@app/electron/external commonjs2 \"electron\"","webpack://@app/electron/./src/main.ts","webpack://@app/electron/../shared/dist/ipc.js","webpack://@app/electron/./src/ipcHandlers.ts","webpack://@app/electron/external commonjs2 \"electron-log/main.js\"","webpack://@app/electron/./src/entry.ts","webpack://@app/electron/./src/security.ts","webpack://@app/electron/external node-commonjs \"node:path\"","webpack://@app/electron/webpack/bootstrap","webpack://@app/electron/webpack/runtime/define property getters","webpack://@app/electron/webpack/runtime/hasOwnProperty shorthand","webpack://@app/electron/webpack/runtime/make namespace object","webpack://@app/electron/webpack/startup"],"sourcesContent":["module.exports = require(\"node:fs\");","module.exports = require(\"node:url\");","module.exports = require(\"electron\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setupSecurityHandlers = setupSecurityHandlers;\nexports.getBrowserWindowOptions = getBrowserWindowOptions;\nexports.createWindow = createWindow;\nconst electron_1 = __importDefault(require(\"electron\"));\nconst { BrowserWindow, shell } = electron_1.default;\nconst path = __importStar(require(\"node:path\"));\nconst node_url_1 = require(\"node:url\");\nconst main_js_1 = __importDefault(require(\"electron-log/main.js\"));\nconst security_js_1 = require(\"./security.js\");\n// IPC handlers are registered in ipcHandlers.ts\nconst isDev = process.env.NODE_ENV === 'development';\nfunction setupSecurityHandlers(contents) {\n    contents.setWindowOpenHandler(({ url }) => {\n        if ((0, security_js_1.isUrlAllowed)(url)) {\n            shell.openExternal(url);\n        }\n        else {\n            main_js_1.default.warn('Blocked window.open to URL:', url);\n        }\n        return { action: 'deny' };\n    });\n    contents.on('will-navigate', (event, url) => {\n        const isLocal = url.startsWith('file://') || url.startsWith('http://localhost:5173');\n        if (!isLocal) {\n            event.preventDefault();\n            if ((0, security_js_1.isUrlAllowed)(url)) {\n                shell.openExternal(url);\n            }\n            else {\n                main_js_1.default.warn('Blocked navigation to URL:', url);\n            }\n        }\n    });\n}\n// Resolve dirname for both ESM (tsc) and bundled CJS (webpack)\nconst __DIRNAME = typeof __dirname !== 'undefined' ? __dirname : path.dirname((0, node_url_1.fileURLToPath)(import.meta.url));\nfunction getBrowserWindowOptions() {\n    return {\n        width: 1024,\n        height: 768,\n        show: true,\n        webPreferences: {\n            contextIsolation: true,\n            sandbox: true,\n            nodeIntegration: false,\n            preload: path.join(__DIRNAME, 'preload.cjs'),\n        },\n    };\n}\nfunction createWindow() {\n    const win = new BrowserWindow(getBrowserWindowOptions());\n    setupSecurityHandlers(win.webContents);\n    if (isDev) {\n        const devUrl = process.env.VITE_DEV_SERVER_URL ?? 'http://localhost:5173';\n        main_js_1.default.info('Loading dev URL:', devUrl);\n        void win.loadURL(devUrl);\n    }\n    else {\n        const indexHtml = path.resolve(__DIRNAME, '../../renderer/dist/index.html');\n        main_js_1.default.info('Loading production file:', indexHtml);\n        void win.loadFile(indexHtml);\n    }\n    return win;\n}\n","export const Channels = {\n    workspaceSelect: 'workspace:select',\n    fileRead: 'file:read',\n    fileWrite: 'file:write',\n    settingsGet: 'settings:get',\n    settingsUpdate: 'settings:update',\n};\n// Runtime validators with defaults\nexport function validateWorkspaceSelectOptions(raw) {\n    const o = (raw ?? {});\n    const type = o.type ?? 'directory';\n    if (type !== 'directory' && type !== 'file')\n        throw new Error('type must be \"directory\" or \"file\"');\n    const multiple = o.multiple ?? false;\n    if (typeof multiple !== 'boolean')\n        throw new Error('multiple must be boolean');\n    return { type, multiple };\n}\nexport function validateWorkspaceSelectResult(raw) {\n    const o = (raw ?? {});\n    const paths = Array.isArray(o.paths) ? o.paths : [];\n    if (!paths.every((p) => typeof p === 'string'))\n        throw new Error('paths must be string[]');\n    return { paths: paths };\n}\nexport function validateFileReadInput(raw) {\n    const o = (raw ?? {});\n    const path = o.path;\n    if (typeof path !== 'string' || path.length < 1)\n        throw new Error('path must be non-empty string');\n    const encoding = o.encoding ?? 'utf-8';\n    if (encoding !== 'utf-8')\n        throw new Error('encoding must be \"utf-8\"');\n    return { path, encoding };\n}\nexport function validateFileReadResult(raw) {\n    const o = (raw ?? {});\n    if (typeof o.data !== 'string')\n        throw new Error('data must be string');\n    return { data: o.data };\n}\nexport function validateFileWriteInput(raw) {\n    const o = (raw ?? {});\n    const path = o.path;\n    const data = o.data;\n    if (typeof path !== 'string' || path.length < 1)\n        throw new Error('path must be non-empty string');\n    if (typeof data !== 'string')\n        throw new Error('data must be string');\n    const encoding = o.encoding ?? 'utf-8';\n    if (encoding !== 'utf-8')\n        throw new Error('encoding must be \"utf-8\"');\n    return { path, data, encoding };\n}\nexport function validateFileWriteResult(raw) {\n    const o = (raw ?? {});\n    const ok = o.ok;\n    if (ok !== true)\n        throw new Error('ok must be true');\n    return { ok: true };\n}\nexport function validateSettingsData(raw) {\n    const o = (raw ?? {});\n    const recentPaths = Array.isArray(o.recentPaths) ? o.recentPaths : [];\n    if (!recentPaths.every((p) => typeof p === 'string'))\n        throw new Error('recentPaths must be string[]');\n    const preferences = o.preferences ?? undefined;\n    return { recentPaths: recentPaths, preferences };\n}\nexport function validateSettingsGetResult(raw) {\n    const o = (raw ?? {});\n    return { settings: validateSettingsData(o.settings) };\n}\nexport function validateSettingsUpdateInput(raw) {\n    const o = (raw ?? {});\n    const partial = {};\n    if ('recentPaths' in o) {\n        partial.recentPaths = validateSettingsData({ recentPaths: o.recentPaths }).recentPaths;\n    }\n    if ('preferences' in o) {\n        const prefs = o.preferences;\n        if (prefs != null && typeof prefs !== 'object')\n            throw new Error('preferences must be object');\n        partial.preferences = prefs;\n    }\n    return { settings: partial };\n}\nexport function validateSettingsUpdateResult(raw) {\n    return validateSettingsGetResult(raw);\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registerIpcHandlers = registerIpcHandlers;\nconst electron_1 = __importDefault(require(\"electron\"));\nconst { ipcMain, dialog, app } = electron_1.default;\nconst node_fs_1 = require(\"node:fs\");\nconst main_js_1 = __importDefault(require(\"electron-log/main.js\"));\nconst shared_1 = require(\"@app/shared\");\nlet cachedSettings = null;\nasync function settingsPath() {\n    const dir = app.getPath('userData');\n    return `${dir}/settings.json`;\n}\nasync function loadSettings() {\n    if (cachedSettings)\n        return cachedSettings;\n    try {\n        const p = await settingsPath();\n        const raw = await node_fs_1.promises.readFile(p, 'utf-8');\n        cachedSettings = (0, shared_1.validateSettingsData)(JSON.parse(raw));\n    }\n    catch {\n        cachedSettings = { recentPaths: [], preferences: {} };\n    }\n    return cachedSettings;\n}\nasync function saveSettings(s) {\n    const p = await settingsPath();\n    const data = JSON.stringify(s, null, 2);\n    await node_fs_1.promises.mkdir(p.substring(0, p.lastIndexOf('/')), { recursive: true });\n    await node_fs_1.promises.writeFile(p, data, 'utf-8');\n    cachedSettings = s;\n}\nfunction registerIpcHandlers() {\n    ipcMain.handle(shared_1.Channels.workspaceSelect, async (_event, rawOptions) => {\n        try {\n            const options = (0, shared_1.validateWorkspaceSelectOptions)(rawOptions ?? {});\n            const props = [];\n            if (options.type === 'directory')\n                props.push('openDirectory');\n            if (options.type === 'file')\n                props.push('openFile');\n            if (options.multiple)\n                props.push('multiSelections');\n            const result = await dialog.showOpenDialog({ properties: props });\n            const payload = { paths: result.canceled ? [] : result.filePaths };\n            return (0, shared_1.validateWorkspaceSelectResult)(payload);\n        }\n        catch (err) {\n            const msg = err instanceof Error ? err.message : String(err);\n            main_js_1.default.error('workspace:select error', err);\n            throw new Error(`workspace:select validation/error: ${msg}`);\n        }\n    });\n    ipcMain.handle(shared_1.Channels.fileRead, async (_event, rawInput) => {\n        try {\n            const input = (0, shared_1.validateFileReadInput)(rawInput);\n            const data = await node_fs_1.promises.readFile(input.path, { encoding: input.encoding });\n            return (0, shared_1.validateFileReadResult)({ data });\n        }\n        catch (err) {\n            const msg = err instanceof Error ? err.message : String(err);\n            main_js_1.default.error('file:read error', err);\n            throw new Error(`file:read validation/error: ${msg}`);\n        }\n    });\n    ipcMain.handle(shared_1.Channels.fileWrite, async (_event, rawInput) => {\n        try {\n            const input = (0, shared_1.validateFileWriteInput)(rawInput);\n            await node_fs_1.promises.writeFile(input.path, input.data, { encoding: input.encoding });\n            return (0, shared_1.validateFileWriteResult)({ ok: true });\n        }\n        catch (err) {\n            const msg = err instanceof Error ? err.message : String(err);\n            main_js_1.default.error('file:write error', err);\n            throw new Error(`file:write validation/error: ${msg}`);\n        }\n    });\n    ipcMain.handle(shared_1.Channels.settingsGet, async () => {\n        const settings = await loadSettings();\n        return (0, shared_1.validateSettingsGetResult)({ settings });\n    });\n    ipcMain.handle(shared_1.Channels.settingsUpdate, async (_event, rawInput) => {\n        const input = (0, shared_1.validateSettingsUpdateInput)(rawInput);\n        const current = await loadSettings();\n        const merged = {\n            recentPaths: input.settings.recentPaths ?? current.recentPaths,\n            preferences: input.settings.preferences ?? current.preferences ?? {},\n        };\n        await saveSettings(merged);\n        return (0, shared_1.validateSettingsUpdateResult)({ settings: merged });\n    });\n}\n","module.exports = require(\"electron-log/main.js\");","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst electron = __importStar(require(\"electron\"));\nconst { app, BrowserWindow } = electron;\nconst main_js_1 = __importDefault(require(\"electron-log/main.js\"));\nconst main_js_2 = require(\"./main.js\");\nconst ipcHandlers_js_1 = require(\"./ipcHandlers.js\");\nmain_js_1.default.initialize();\nmain_js_1.default.info('Task Master Editor starting');\n// Register IPC handlers early\n(0, ipcHandlers_js_1.registerIpcHandlers)();\napp.on('ready', () => {\n    (0, main_js_2.createWindow)();\n    if (process.env.APP_AUTO_QUIT === '1') {\n        setTimeout(() => {\n            app.quit();\n        }, 1000);\n    }\n});\napp.on('window-all-closed', () => {\n    if (process.platform !== 'darwin')\n        app.quit();\n});\napp.on('activate', () => {\n    if (BrowserWindow.getAllWindows().length === 0)\n        (0, main_js_2.createWindow)();\n});\nprocess.on('uncaughtException', (err) => {\n    main_js_1.default.error('Uncaught exception', err);\n});\nprocess.on('unhandledRejection', (reason) => {\n    main_js_1.default.error('Unhandled rejection', reason);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ALLOWED_EXTERNAL_ORIGINS = void 0;\nexports.isUrlAllowed = isUrlAllowed;\nexports.ALLOWED_EXTERNAL_ORIGINS = new Set([\n    'https://github.com',\n    'https://openai.com',\n]);\nfunction isUrlAllowed(url) {\n    try {\n        const { origin } = new URL(url);\n        return exports.ALLOWED_EXTERNAL_ORIGINS.has(origin);\n    }\n    catch {\n        return false;\n    }\n}\n","module.exports = require(\"node:path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(678);\n"],"names":["module","exports","require","ownKeys","__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","length","mod","result","i","__importDefault","setupSecurityHandlers","getBrowserWindowOptions","createWindow","win","BrowserWindow","webContents","isDev","devUrl","process","env","VITE_DEV_SERVER_URL","main_js_1","default","info","loadURL","indexHtml","path","resolve","__DIRNAME","loadFile","electron_1","shell","node_url_1","security_js_1","contents","setWindowOpenHandler","url","isUrlAllowed","openExternal","warn","action","on","event","startsWith","preventDefault","__dirname","dirname","fileURLToPath","width","height","show","webPreferences","contextIsolation","sandbox","nodeIntegration","preload","join","Channels","workspaceSelect","fileRead","fileWrite","settingsGet","settingsUpdate","validateWorkspaceSelectOptions","raw","type","Error","multiple","validateWorkspaceSelectResult","paths","Array","isArray","every","p","validateFileReadInput","encoding","validateFileReadResult","data","validateFileWriteInput","validateFileWriteResult","ok","validateSettingsData","recentPaths","preferences","validateSettingsGetResult","settings","validateSettingsUpdateInput","partial","prefs","validateSettingsUpdateResult","registerIpcHandlers","ipcMain","handle","shared_1","async","_event","rawOptions","options","props","push","dialog","showOpenDialog","properties","payload","canceled","filePaths","err","msg","message","String","error","rawInput","input","node_fs_1","promises","readFile","writeFile","loadSettings","current","merged","s","settingsPath","JSON","stringify","mkdir","substring","lastIndexOf","recursive","cachedSettings","saveSettings","app","getPath","parse","electron","main_js_2","ipcHandlers_js_1","initialize","APP_AUTO_QUIT","setTimeout","quit","platform","getAllWindows","reason","ALLOWED_EXTERNAL_ORIGINS","origin","URL","has","Set","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","key","obj","prop","r","Symbol","toStringTag","__webpack_exports__"],"sourceRoot":""}